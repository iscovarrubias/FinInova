<ion-menu content-id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menú</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <ion-item button routerLink="/home">
        <ion-label>Inicio</ion-label>
      </ion-item>
      <ion-item button routerLink="/presupuesto">
        <ion-label>Crear Presupuesto</ion-label>
      </ion-item>
      <ion-item button (click)="cerrarSesion()">
        <ion-label>Cerrar Sesión</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-content id="main-content">
<div class="date">
  <p>{{ currentDate }}</p>
</div>

<ion-header>
  <ion-title>
    ¡Bienvenido/a, {{ userName }}!
  </ion-title>
</ion-header>

<ion-card>
  <ion-card-header>
    <ion-card-title>GASTOS</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div class="summary">
      <div class="summary-item">
        <p>Gastos</p>
        <p>${{ user.gastos > 0 ? user.gastos : 0 }}</p>
      </div>
    </div>
    <ion-button expand="block" routerLink="/gastos">
      AÑADIR GASTOS
    </ion-button>
  </ion-card-content>
</ion-card>




<ion-card>
  <ion-card-header>
    <ion-card-title>PRESUPUESTOS</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <div *ngIf="presupuestos.length > 0; else noPresupuestos">
      <ion-grid>
        <ion-row>
          <ion-col size="3" class="table-header">Nombre</ion-col>
          <ion-col size="3" class="table-header">Fecha Inicio</ion-col>
          <ion-col size="3" class="table-header">Fecha Corte</ion-col>
          <ion-col size="3" class="table-header">Categoría</ion-col>
        </ion-row>
        <ion-row *ngFor="let presupuesto of presupuestos">
          <ion-col size="3" class="table-item">{{ presupuesto.nombre }}</ion-col>
          <ion-col size="3" class="table-item">{{ presupuesto.fechaInicio }}</ion-col>
          <ion-col size="3" class="table-item">{{ presupuesto.fechaCorte }}</ion-col>
          <ion-col size="3" class="table-item">{{ presupuesto.categoriaNombre || 'Sin Categoría' }}</ion-col> 
        </ion-row>
      </ion-grid>
    </div>
    <ng-template #noPresupuestos>
      <p>No hay presupuestos disponibles.</p>
    </ng-template>

    <ion-button expand="block" routerLink="/presupuesto">
      CREAR PRESUPUESTO
    </ion-button>  
  </ion-card-content>
</ion-card>

</ion-content>